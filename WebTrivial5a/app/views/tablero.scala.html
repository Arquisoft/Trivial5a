@(partida:model.Partida) 
@import helper._ 

@main("Partida") {
<script>
$( document ).ready(function() {
	if(@partida.activeUser.posicion == 0)
		$( "#circle-1" ).addClass("circle-actual");
	else
		$( "#circle-@partida.activeUser.posicion" ).addClass("circle-actual");
	$( "button").prop('disabled', true);
	$( "#dice" ).prop('disabled', false);
	$( ".navbar-btn" ).prop('disabled', false);
	});
</script>
<div class="tablaJugador">
	<h1>Partida @partida.id</h1>
	<table class="table table-bordered">
		<tr>
			<th class="text-center success">Jugador</th>
			<th class="text-center success" colspan="6">Categorías</th>
		</tr>
		<tr>
			<td class="text-center" rowspan=2>@partida.activeUser.login</td>
			<td class="text-center" bgcolor="#ffb037">Deportes</td>
			<td class="text-center" bgcolor="#ffe800">Historia</td>
			<td class="text-center" bgcolor="#ff9c9f">Entretenimiento</td>
			<td class="text-center" bgcolor="#0ad067">Ciencia y Tecnología</td>
			<td class="text-center" bgcolor="red">Arte y Literatura</td>
			<td class="text-center" bgcolor="#229cdc">Geografía</td>

		</tr>
		<tr>
			@if(partida.quesitosPorJugador.get(partida.activeUser.login).contains(" Deportes")){
			<td class="text-center icon-star"></td>
			 }else{
			<td></td>
			}
			@if(partida.quesitosPorJugador.get(partida.activeUser.login).contains(" Historia")){
			<td class="text-center icon-star"></td>
			}else{
			<td></td>
			}
			@if(partida.quesitosPorJugador.get(partida.activeUser.login).contains(" Entretenimiento")){
			<td class="text-center icon-star"></td> 
			}else{
			<td></td>
			}
			@if(partida.quesitosPorJugador.get(partida.activeUser.login).contains(" Ciencia y Tecnologia")){
			<td class="text-center icon-star"></td>
			}else{
			<td></td>
			}
			@if(partida.quesitosPorJugador.get(partida.activeUser.login).contains(" Arte y Literatura")){
			<td class="text-center icon-star"></td>
			}else{
			<td></td>
			}
			@if(partida.quesitosPorJugador.get(partida.activeUser.login).contains(" Geografia")){
			<td class="text-center icon-star"></td>
			}else{
			<td></td>
			}
		</tr>
		<table>
			</div>

			<div id="dado" class="col-md-6">
				<table class="table table-bordered"">
					<tr>
						<th class="text-center success">Tirar</th>
						<th class="text-center success">Mover</th>
					</tr>
					<tr>
						<td class="text-center">
							<img src='@routes.Assets.at("/images/dados.gif")' 
								onclick="rollDice(@partida.activeUser.posicion)"
								id="dice" />
							<i class="icon-die-dice"></i>
						</td>
						<td id="mover"></td>
					</tr>
				</table>
			</div>
			<div>
				<ul id="menu">
					<a class="menu-button" href="#menu" title="Show navigation"></a>
					<a class="menu-button" href="#menu" title="Hide navigation"></a>
					@for(a <-1 to 30){ @if(a==1||a==6||a==11||a==16||a==21||a==26){
					<li id="@a-li" class="menu-item  icon-star">
					@if(a==1){ 
					<a href='@routes.Application.getQuestion(partida.id,"Deportes", true,a)'>
							<button id="@a" class="menu-item-back"></button>
					</a> 
					} 
					@if(a==6){ 
					<a href='@routes.Application.getQuestion(partida.id,"Historia", true,a)'>
							<button id="@a" class="menu-item-back"></button>
					</a> 
					}
					@if(a==11){ 
					<a href='@routes.Application.getQuestion(partida.id,"Entretenimiento", true,a)'>
							<button id="@a" class="menu-item-back"></button>
					</a> 
					} 
					@if(a==16){ 
					<a href='@routes.Application.getQuestion(partida.id,"Ciencia y Tecnologia", true,a)'>
							<button id="@a" class="menu-item-back"></button>
					</a> 
					} 
					@if(a==21){ 
					<a href='@routes.Application.getQuestion(partida.id,"Arte y Literatura", true,a)'>
							<button id="@a" class="menu-item-back"></button>
					</a> 
					} 
					@if(a==26){ 
					<a href='@routes.Application.getQuestion(partida.id,"Geografia", true,a)'>
							<button id="@a" class="menu-item-back"></button>
					</a> 
					}
						<div id="circle-@a" class="circle circle-disabled"></div>
					</li> 
					}else{
					<li id="@a-li" class="menu-item">
						@if(a==1||a==7||a==13||a==19||a==25){ 
						<a href='@routes.Application.getQuestion(partida.id,"Deportes", false,a)'>
							<button id="@a" class="menu-item-back"></button>
					</a> } 
						@if(a==2||a==8||a==14||a==20||a==26){ 
						<a href='@routes.Application.getQuestion(partida.id,"Geografia", false,a)'>
							<button id="@a" class="menu-item-back"></button>
					</a> } 
						@if(a==3||a==9||a==15||a==21||a==27){ 
						<a href='@routes.Application.getQuestion(partida.id,"Arte y Literatura", false,a)'>
							<button id="@a" class="menu-item-back"></button>
					</a> } 
						@if(a==4||a==10||a==16||a==22||a==28){ 
						<a href='@routes.Application.getQuestion(partida.id,"Ciencia y Tecnologia", false,a)'>
							<button id="@a" class="menu-item-back"></button>
					</a> } 
						@if(a==5||a==11||a==17||a==23||a==29){ 
						<a href='@routes.Application.getQuestion(partida.id,"Entretenimiento", false,a)'>
							<button id="@a" class="menu-item-back"></button>
					</a> } 
						@if(a==6||a==12||a==18||a==24||a==30){ 
						<a href='@routes.Application.getQuestion(partida.id,"Historia", false,a)'>
							<button id="@a" class="menu-item-back"></button>
					</a> }
						<div id="circle-@a" class="circle circle-disabled"></div>
					</li> 
					} 
				}
				</ul>
			</div>
			<script>
function rollDice(posactual){
	
	if(posactual==0) posactual = posactual+1;
    //var status = document.getElementById("status");
    var numdado = Math.floor(Math.random() * 6) + 1;
    var numcasillas = 30;
    //status.innerHTML = numdado;
    $("#mover").html(numdado);
    $("#dice").attr('onclick','').unbind('click');
    
    if (numdado == 1) {
    	dplus = 2;
    	dmin = 30;
	} else {
	    if (posactual <= 5) {
			if (posactual - numdado >= 0)
				dplus = posactual - numdado;
			else {
				var aux = numcasillas + posactual;
				dplus = aux - numdado;
			}
			dmin = posactual + numdado;
		} else if (posactual >= 24) {
			if (posactual + numdado >= numcasillas)
				dplus = (posactual + numdado) - numcasillas;
			else
				dplus = posactual + numdado;
			dmin = posactual - numdado;
		} else {
			dplus = posactual - numdado;
			dmin = posactual + numdado;
		}
	}  
	    $( "#"+dplus ).prop('disabled', false);
	    $( "#circle-"+dplus ).addClass("circle-enabled");
	    $( "#"+dplus ).attr("onclick", "window.location.assign(/tablero/@partida.id)");
	    $( "#"+dmin ).prop('disabled', false);
	    $( "#circle-"+dmin ).addClass("circle-enabled");
	    $( "#dice" ).prop('disabled', true);
	}
</script>
			</head>
			}